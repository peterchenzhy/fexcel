{"version":3,"sources":["pages/index/Index.jsx","components/RoleHOC/index.jsx"],"names":["open","es_form","url","export","layout","tableName","info","modal","error","changeSelectGroup","value","props","getColumnList","wrapperCol","span","getFileList","md","lg","actions","handleShowModal","params","Index","setState","_this","Object","classCallCheck","modalVar","flag","cb","possibleConstructorReturn","this","getPrototypeOf","form","setFieldsValue","list","_this$props$form","key","handleBlur","getFieldDecorator","id","forEach","temp","push","item","tableCollumName","tempForm","formKey","editData","resetForm","keys","resetFields","loadPage","handleDeleteFile","pageNo","arguments","getFieldValue","length","undefined","content","tableDelete","err","onCancel","postData","isShowModal","pageSize","values","fileId","condition","fields","getTableList","fileLoading","selectedRowKeys","selectedRows","formSearch","handlePageChange","handleShowSizeChange","current","handleSearch","e","preventDefault","batchUpdate","state","showSuccess","msg","success","title","okText","okType","onOk","showError","showInfo","exportFile","concat","api","nextProps","refreshFileFlag","resetState","defineProperty","handleFieldsBlur","_ref","_ref2","confirm","columnList","operateSuccessFlag","inherits","createClass","operateInfo","operateFailFlag","pagination","pageNum","showSizeChanger","showQuickJumper","onChange","_this2","that","_this$props$form2","_this$props","dataSource","tableList","fileList","loading","role","_this$state","_this$props$pageInfo","pageInfo","total","columnsObj","filter","canView","map","excelCollumName","render","text","record","canEdit","react_default","a","createElement","FormItem","label","initialValue","target","input","placeholder","style","width","onShowSizeChange","name","beforeUpload","file","showUploadList","customRequest","formData","FormData","WrapComponent","RoleComponent","_PureComponent","call","route","path","assign","PureComponent","hoistNonReactStatics"],"mappings":"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","file":"static/js/6.a056e59f.chunk.js","sourcesContent":["/* eslint-disable prefer-destructuring */\r/**\r * Created by charles on 2018/5/30.\r */\rimport React, { PureComponent, Fragment } from 'react';\rimport './Index.less';\rimport { connect } from 'react-redux';\rimport { Button, Col, Form, Row, Select, Layout, Table, Modal, Spin, Input, Upload } from 'antd';\rimport { bindActionCreators } from \"redux\";\rimport actions from \"../../stores/actions/resumeActions\";\rimport url from \"../../services/api\";\rimport RoleHOC from '../../components/RoleHOC'\r\r\rconst FormItem = Form.Item;\rconst Content = Layout.Content;\rconst { info, error, success } = Modal;\rconst formOtherLayout = {\r  labelCol: { span: 10 },\r  wrapperCol: { span: 14 },\r};\rconst generalLayout = { md: 24, lg: 12, xl: 8 };\r\r\rclass Index extends PureComponent {\r  constructor(props) {\r    super(props);\r    this.state = {\r      isShowModal: false,\r      //文件上传loading\r      fileLoading: false,\r      selectedRowKeys: [],\r      selectedRows: [],\r      formSearch: [],\r      // 动态查询项\r      fields: []\r    };\r  }\r\r  componentDidMount() {\r    this.getFileList();\r  }\r\r  componentWillReceiveProps(nextProps) {\r    if (this.props.refreshFileFlag !== nextProps.refreshFileFlag && nextProps.refreshFileFlag) {\r      this.getFileList();\r      this.props.actions.resetState();\r    }\r    // 动态查询条件\r    if (this.props.columnList !== nextProps.columnList && nextProps.columnList.length > 0) {\r      this.generateForm(nextProps.columnList);\r    }\r    // 操作提示\r    if (this.props.operateSuccessFlag !== nextProps.operateSuccessFlag && nextProps.operateSuccessFlag === true) {\r      this.showSuccess(nextProps.operateInfo);\r      this.props.actions.resetState();\r    }\r    if (this.props.operateFailFlag !== nextProps.operateFailFlag && nextProps.operateFailFlag === true) {\r      this.showError(nextProps.operateInfo);\r      this.props.actions.resetState();\r    }\r  }\r\r  generateForm = (list) => {\r    const { getFieldDecorator, setFieldsValue } = this.props.form;\r    let temp = [],\r      tempForm = [];\r    list.forEach(item => {\r      if (item.canSearch === 1) {\r        temp.push(item.tableCollumName);\r        tempForm.push(item);\r      }\r    });\r    this.setState({\r      fields: [...new Set(temp)]\r    });\r    setFieldsValue({ 'keys': tempForm });\r  };\r\r  // 加载表格数据\r  loadPage = (pageNo = 1, pageSize = 20) => {\r    this.setState({\r      pageNo,\r    }, () => {\r      this.props.form.validateFields((err, values) => {\r        if (!err) {\r          const { fields } = this.state;\r          let postData = {};\r          postData.pageNo = pageNo;\r          postData.pageSize = pageSize;\r          postData.tableName = values.fileId;\r          postData.condition = {};\r          fields.forEach(item => {\r            if (values[item] && values[item] !== '') {\r              postData['condition'][item] = values[item];\r            }\r          });\r          this.props.actions.getTableList(postData);\r          // 清空勾选\r          this.setState({\r            selectedRowKeys: [],\r            selectedRows: [],\r          });\r        }\r      });\r    });\r  };\r\r\r  // 翻页\r  handlePageChange = (pageNo, pageSize) => {\r    this.loadPage(pageNo, pageSize);\r  };\r\r  // 切换pageSize\r  handleShowSizeChange = (current, pageSize) => {\r    this.loadPage(1, pageSize);\r  };\r\r  handleSearch = (e) => {\r    e && e.preventDefault();\r    this.loadPage();\r  };\r\r  // 批量更新\r  batchUpdate = () => {\r    const { selectedRows } = this.state;\r    const { getFieldValue } = this.props.form;\r    this.props.actions.batchUpdate({ list: selectedRows, tableName: getFieldValue('fileId') });\r  };\r\r  showSuccess = (msg) => {\r    success({\r      title: '操作成功',\r      content: msg,\r      okText: '确定',\r      okType: 'info',\r      onOk: () => {\r        this.loadPage();\r      },\r    });\r  };\r\r  showError = (msg) => {\r    error({\r      title: '操作失败',\r      content: msg,\r      okText: '确定',\r      okType: 'info',\r    });\r  };\r\r  showInfo = (msg) => {\r    info({\r      title: '操作提示',\r      content: msg,\r      okText: '确定',\r      okType: 'info',\r    });\r  };\r\r  // 导出\r  exportFile = () => {\r    const { getFieldValue } = this.props.form;\r    const tableName = getFieldValue('fileId');\r    if (tableName && tableName !== '') {\r      // 下载模板文件\r      window.open(`${url.config.export}?tableName=${tableName}`);\r    } else {\r      this.showError('请先选择要导出的文件!');\r    }\r  };\r  // 查询表头\r  changeSelectGroup = (value) => {\r    if (value && value !== '') {\r      this.props.actions.getColumnList({ tableName: value });\r      this.loadPage();\r    }\r  };\r\r  getFileList = () => {\r    this.props.actions.getFileList();\r  };\r\r  // modal\r  handleShowModal = (params) => {\r    const { modalVar, flag, cb } = params;\r    this.setState({\r      [modalVar]: flag\r    });\r    cb && cb();\r  };\r\r  handleFieldsBlur = ({ key, value }) => {\r    const { setFieldsValue } = this.props.form;\r    setFieldsValue({ [key]: value });\r  };\r\r  handleBlur = ({ key, value, formKey, id }) => {\r    const { setFieldsValue } = this.props.form;\r    setFieldsValue({ [formKey]: value });\r    this.props.actions.editData({ key, value, id });\r  };\r  resetForm = () => {\r    this.props.form.resetFields();\r  };\r\r  // 删除文件\r  handleDeleteFile = () => {\r    const { getFieldValue } = this.props.form;\r    const tableName = getFieldValue('fileId');\r    Modal.confirm({\r      title: '确认操作',\r      content: '是否确认删除文件',\r      onOk: () => {\r        this.props.actions.tableDelete({ tableName });\r        this.props.form.resetFields();\r      },\r      onCancel: () => {\r      },\r    });\r  };\r\r  render() {\r    const that = this;\r    const { getFieldDecorator, getFieldValue } = this.props.form;\r    const fileId = getFieldValue('fileId');\r    const { columnList, tableList: dataSource, fileList, loading, role } = this.props;\r    const { fileLoading, selectedRowKeys } = this.state;\r    const { pageNum, total, pageSize } = this.props.pageInfo;\r    const columnsObj = columnList && columnList.length > 0 ? columnList.filter(item => item.canView === 1).map(item => {\r      return ({\r        title: item.excelCollumName,\r        key: item.tableCollumName,\r        render: (text, record) => {\r          if (item.canEdit === 1) {\r            return (<FormItem label=\"\">\r              {getFieldDecorator(`${item.tableCollumName}_${record.id}`, {\r                initialValue: record[item.tableCollumName],\r                onChange: (e) => this.handleBlur({\r                  id: record.id,\r                  formKey: `${item.tableCollumName}_${record.id}`,\r                  value: e.target.value,\r                  key: item.tableCollumName,\r                })\r              })(\r                <Input placeholder=\"请输入\" style={{ width: '100px' }} />\r              )}\r            </FormItem>)\r          } else {\r            return (<span>{record[item.tableCollumName]}</span>)\r          }\r        }\r      })\r    }) : [];\r\r\r    // 分页数据\r    const pagination = {\r      current: pageNum,\r      total: total,\r      pageSize: pageSize,\r      showSizeChanger: true,\r      showQuickJumper: true,\r      onChange: this.handlePageChange,\r      onShowSizeChange: this.handleShowSizeChange,\r    };\r\r\r    const props = {\r      name: 'file',\r      beforeUpload(file, fileList) {\r      },\r      showUploadList: false,\r      customRequest(info) {\r        // 上传大小限制10M\r        // if (info.file && (info.file.size / 1024 / 1024) > 10) {\r        //   message.error('请上传小于10M的文件！');\r        //   return false;\r        // }\r        // that.setState({\r        //   fileLoading: true\r        // });\r        const formData = new FormData();\r        formData.append('excelFile', info.file);\r        // 调接口\r        that.props.actions.uploadFile(formData);\r      },\r    };\r\r    const rowSelection = {\r      selectedRowKeys,\r      onChange: (selectedRowKeys, selectedRows) => {\r        this.setState({\r          selectedRowKeys,\r          selectedRows\r        });\r      },\r      getCheckboxProps: record => ({\r        disabled: false, // Column configuration not to be checked\r        name: record.name,\r      }),\r    };\r\r    getFieldDecorator('keys', {\r      initialValue: [],\r    });\r    const inputs = getFieldValue('keys').map(item => {\r      return (\r        <Col {...generalLayout}>\r          <FormItem {...formOtherLayout} label={`${item.excelCollumName}`}>\r            {getFieldDecorator(`${item.tableCollumName}`, {\r              initialValue: '',\r              onChange: (e) => this.handleFieldsBlur({\r                id: item.tableCollumName,\r                value: e.target.value,\r              })\r            })(\r              <Input placeholder=\"请输入\" />\r            )}\r          </FormItem>\r        </Col>)\r    });\r\r    return (\r      <div className=\"page-index\">\r        <Spin spinning={fileLoading}>\r          <Content>\r            <Form\r              className=\"ant-advanced-search-form\"\r              onSubmit={this.handleSearch}\r            >\r              <Row gutter={24}>\r                <Col span={10}\r                     style={{ height: 70 }}>\r                  <FormItem labelCol={{ span: 6 }} wrapperCol={{ span: 18 }}\r                            label=\"文件\">\r                    {getFieldDecorator('fileId', {\r                      rules: [{\r                        required: true,\r                        whitespace: true,\r                        message: \"请先选择文件\",\r                      }]\r                    })(\r                      <Select\r                        showSearch\r                        optionFilterProp=\"children\"\r                        allowClear\r                        style={{ width: 400 }}\r                        placeholder=\"请选择\"\r                        onSelect={this.changeSelectGroup}>\r                        {\r                          fileList && fileList.length > 0 && fileList.map(item => {\r                            return (<Select.Option title={item.excelName} key={`tableFile_${item.id}`}\r                                                   value={item.tableName}>{item.excelName}</Select.Option>)\r                          })\r                        }\r                      </Select>,\r                    )}\r                  </FormItem>\r                </Col>\r                {\r                  role && role === 'admin' &&\r                  <Fragment>\r                    <Col span={8}\r                         style={{ textAlign: 'left' }}>\r                      {\r                        fileId && fileId !== '' &&\r                        <Button type=\"default\"  style={{ marginRight: '15px', marginLeft: '-25px' }} onClick={this.handleDeleteFile}>删除文件</Button>\r                      }\r                      <Upload {...props}>\r                        <Button type=\"primary\">上传文件</Button>\r                      </Upload>\r                      <Button\r                        style={{ marginLeft: '10px' }}\r                        type=\"default\"\r                        onClick={this.exportFile}>导出</Button>\r                    </Col>\r                    <Col style={{ clear: 'both' }} />\r                  </Fragment>\r                }\r\r              </Row>\r              <Row gutter={24}>\r                {\r                  inputs\r                }\r              </Row>\r              <Row gutter={24}>\r                <Col {...generalLayout} style={{ marginLeft: '100px', marginBottom: '15px' }}>\r                  <Button type=\"primary\" htmlType=\"submit\">查询</Button>&nbsp;&nbsp;&nbsp;&nbsp;\r                  <Button type=\"default\" onClick={this.resetForm}>重置</Button>\r                </Col>\r              </Row>\r            </Form>\r            <h3 style={{ margin: '0 0 5px', paddingTop: '25px', borderTop: '1px solid #ddd' }}></h3>\r            <Row gutter={24} style={{ marginBottom: '10px' }}>\r              <Col style={{ textAlign: 'left' }}\r                   span={12}>\r                <Button type=\"primary\" onClick={this.batchUpdate} disabled={!selectedRowKeys.length > 0}>批量更新</Button>\r              </Col>\r              <Col style={{ textAlign: 'right' }}\r                   span={12}>\r                <div className=\"search-count\">\r                  共 {pagination.total} 条\r                </div>\r              </Col>\r            </Row>\r            <Spin spinning={loading}>\r              <Table scroll={{ x: 'max-content' }}\r                     rowKey=\"id\"\r                     className=\"table-list\"\r                     rowSelection={rowSelection}\r                     dataSource={dataSource}\r                     columns={columnsObj}\r                     pagination={pagination} />\r            </Spin>\r          </Content>\r        </Spin>\r\r      </div>\r    );\r  }\r}\r\rconst FinalIndex = Form.create()(\r  Index,\r);\r\rconst mapStateToProps = (state) => {\r  const {\r    resultList,\r    operateSuccessFlag,\r    operateFailFlag,\r    operateInfo,\r    tableList,\r    fileList,\r    refreshFileFlag,\r    columnList,\r    pageInfo,\r    loading,\r  } = state.resumeReducer;\r  return {\r    resultList,\r    operateSuccessFlag,\r    operateFailFlag,\r    operateInfo,\r    tableList,\r    fileList,\r    refreshFileFlag,\r    columnList,\r    pageInfo,\r    loading,\r  }\r};\r\rconst mapDispatchToProps = dispatch => {\r  return {\r    actions: bindActionCreators(actions, dispatch)\r  }\r};\r\rexport default connect(\r  mapStateToProps,\r  mapDispatchToProps\r)(RoleHOC(FinalIndex));\r","import React, { PureComponent } from 'react';\rimport hoistNonReactStatics from 'hoist-non-react-statics';\r\rexport default (WrapComponent) => {\r  class RoleComponent extends PureComponent {\r    constructor(props) {\r      super(props);\r      this.state = {\r        role: props.route.path === '/admin' ? 'admin' : 'employee'\r      }\r    }\r\r    componentWillReceiveProps(nextProps) {\r      if (this.props.route.path !== nextProps.route.path && nextProps.route.path !== '') {\r        const routing = nextProps.route.path;\r        if (routing === '/admin') {\r          this.setState({\r            role: 'admin'\r          });\r        } else {\r          this.setState({\r            role: 'employee'\r          });\r        }\r      }\r    }\r\r    render() {\r      const { role } = this.state;\r      return (\r        <WrapComponent role={role} {...this.props} />\r      )\r    }\r  }\r\r  return hoistNonReactStatics(RoleComponent, WrapComponent);\r};\r"],"sourceRoot":""}